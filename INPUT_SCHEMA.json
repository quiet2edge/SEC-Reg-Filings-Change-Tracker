{
  "title": "SEC/EDGAR Filing Change Detector - Input Configuration",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "watchlist": {
      "title": "Company Watchlist",
      "type": "array",
      "description": "Companies to monitor. Enter ticker symbols (AAPL), CIK numbers (0000320193), or company names (Apple Inc).",
      "editor": "stringList",
      "prefill": ["AAPL", "MSFT", "GOOGL"],
      "minItems": 1
    },
    "filingTypes": {
      "title": "Filing Types",
      "type": "array",
      "description": "Which SEC filing types to monitor",
      "editor": "stringList",
      "default": ["10-K", "10-Q", "8-K"],
      "prefill": ["10-K", "10-Q", "8-K"],
      "uniqueItems": true
    },
    "lookbackDays": {
      "title": "Lookback Period (Days)",
      "type": "integer",
      "description": "How many days back to check for filings",
      "editor": "number",
      "default": 7,
      "minimum": 1,
      "maximum": 90
    },
    "enableChangeDetection": {
      "title": "Enable Change Detection",
      "type": "boolean",
      "description": "Compare with previous filings to detect changes",
      "default": true
    },
    "changeThreshold": {
      "title": "Change Detection Threshold",
      "type": "number",
      "description": "Minimum percentage change to flag (0.05 = 5%)",
      "default": 0.05,
      "minimum": 0.01,
      "maximum": 1.0
    },
    "enableAiAnalysis": {
      "title": "Enable AI Analysis",
      "type": "boolean",
      "description": "Generate AI-powered summaries and insights (requires OpenAI API key)",
      "default": false
    },
    "openaiApiKey": {
      "title": "OpenAI API Key",
      "type": "string",
      "description": "Your OpenAI API key for AI analysis (optional)",
      "editor": "textfield",
      "isSecret": true
    },
    "webhookUrl": {
      "title": "Webhook URL",
      "type": "string",
      "description": "Send real-time notifications to this webhook URL",
      "editor": "textfield",
      "pattern": "^https?://.*"
    },
    "webhookHeaders": {
      "title": "Webhook Headers (JSON)",
      "type": "object",
      "description": "Custom HTTP headers for webhook requests as JSON object",
      "editor": "json",
      "prefill": {}
    },
    "includeFullText": {
      "title": "Include Full Filing Text",
      "type": "boolean",
      "description": "Include complete filing text in output (warning: large)",
      "default": false
    },
    "maxConcurrency": {
      "title": "Max Concurrency",
      "type": "integer",
      "description": "Maximum concurrent requests to SEC",
      "default": 5,
      "minimum": 1,
      "maximum": 10
    },
    "proxyConfiguration": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Apify proxy settings",
      "editor": "proxy"
    },
    "debugMode": {
      "title": "Debug Mode",
      "type": "boolean",
      "description": "Enable verbose logging for debugging",
      "default": false
    }
  },
  "required": ["watchlist"]
}
